{"version":3,"file":"static/js/843.d90d3c81.chunk.js","mappings":"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","sources":["app/pages/tech/react/hooks/CallbackHook.jsx"],"sourcesContent":["import {useCallback, useEffect, useState} from \"react\";\r\nimport {Box, Button, CircularProgress, Divider, Stack, TextField, Typography} from \"@mui/material\";\r\n\r\nconst MyList = ({getItems}) => {\r\n  const [items, setItems] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    setItems(getItems());\r\n    setTimeout(() => setLoading(false), 1000);\r\n  }, [getItems]);\r\n\r\n  return (\r\n    <Box id=\"MyList\" border=\"2px dashed red\" m=\"auto\" width=\"50%\" minHeight={150} mt={2} style={{backgroundColor: \"rgba(255,255,255,0.5)\"}}>\r\n      <Typography>Child Component</Typography>\r\n      {loading ?\r\n        <Typography align=\"center\">\r\n          <CircularProgress size={16} color=\"warning\"/> Fetching items...\r\n        </Typography>\r\n        :\r\n        items.map(item => <p key={item}>{item}</p>)\r\n      }\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst Demo1 = () => {\r\n  const [input, setInput] = useState(0);\r\n  const [light, setLight] = useState(true);\r\n  const getItems = () => {\r\n    return [input + 10, input + 100];\r\n  };\r\n  const theme = {\r\n    backgroundColor: light ? \"ghostwhite\" : \"grey\",\r\n    color: light ? \"grey\" : \"white\"\r\n  };\r\n\r\n  return (\r\n    <Box className=\"demo\">\r\n      <Typography variant=\"h5\" pb={1}>📌 Demo 1: Without <code>useCallback</code></Typography>\r\n      <Box style={theme} minHeight={200}>\r\n        <Typography mb={2}>Parent Component</Typography>\r\n        <TextField\r\n          sx={{mr: 1}}\r\n          type=\"number\"\r\n          label=\"Number\"\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          value={input}\r\n          onChange={e => setInput(parseInt(e.target.value))}\r\n        />\r\n        <Button onClick={() => setLight(prev => !prev)} variant=\"contained\" disableElevation>\r\n          Toggle Theme\r\n        </Button>\r\n        <MyList getItems={getItems}/>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nconst Demo2 = () => {\r\n  const [input, setInput] = useState(0);\r\n  const [light, setLight] = useState(true);\r\n  const getItems = useCallback(() => {\r\n    return [input + 10, input + 100];\r\n  }, [input]);\r\n  const theme = {\r\n    backgroundColor: light ? \"ghostwhite\" : \"grey\",\r\n    color: light ? \"grey\" : \"white\"\r\n  };\r\n\r\n  return (\r\n    <Box className=\"demo\">\r\n      <Typography variant=\"h5\" pb={1}>📌 Demo 2: With <code>useCallback</code></Typography>\r\n      <Box style={theme} minHeight={200}>\r\n        <Typography mb={2}>Parent Component</Typography>\r\n        <TextField\r\n          sx={{mr: 1}}\r\n          type=\"number\"\r\n          label=\"Number\"\r\n          variant=\"outlined\"\r\n          size=\"small\"\r\n          value={input}\r\n          onChange={e => setInput(parseInt(e.target.value))}\r\n        />\r\n        <Button onClick={() => setLight(prev => !prev)} variant=\"contained\" disableElevation>\r\n          Toggle Theme\r\n        </Button>\r\n        <MyList getItems={getItems}/>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default function CallbackHook() {\r\n  return (\r\n    <Box id=\"CallbackHook\">\r\n      <Typography paragraph>\r\n        useCallback是将父组件传给子组件的方法给缓存下来，只有当 usecallback中的第二个参数状态变化时，子组件才重新渲染.<br/>\r\n        Pass an inline callback and an array of dependencies. useCallback will return a memoized version of the callback that only changes if one of the dependencies has changed. This is useful when passing callbacks to optimized child components that rely on reference equality to prevent unnecessary renders (e.g. shouldComponentUpdate).\r\n      </Typography>\r\n      <Divider sx={{mt: 1, mb: 2}}/>\r\n      <Stack spacing={5}>\r\n        <Demo1/>\r\n        <Demo2/>\r\n      </Stack>\r\n    </Box>\r\n  );\r\n};\r\n"],"names":["MyList","getItems","useState","items","setItems","loading","setLoading","useEffect","setTimeout","id","border","m","width","minHeight","mt","style","backgroundColor","align","size","color","map","item","Demo1","input","setInput","light","setLight","theme","className","variant","pb","mb","sx","mr","type","label","value","onChange","e","parseInt","target","onClick","prev","disableElevation","Demo2","useCallback","CallbackHook","paragraph","spacing"],"sourceRoot":""}